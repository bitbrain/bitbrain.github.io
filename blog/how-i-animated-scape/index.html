<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="utf-8">
        
        <script>
            const isDarkMode = localStorage.getItem('is_darkmode_set') === 'true';
            if (isDarkMode) {
                document.documentElement.classList.add('dark');
            }
        </script>
        
        <meta name="color-scheme" content="light dark">

        
        
        
            
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                        
                        
                            
                            
                            
                                
                            
                        
                    
                
            
            
            
        
        
        
            <link rel="me" href="https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@bitbraindev">
        

        
        

        
        <link rel="alternate"
              type="application/atom+xml"
              title="bitbrain feed"
              href="https://bitbra.in/atom.xml">
        

        
        <link rel="icon" type="image/webp" href="https://bitbra.in/favicon.webp?h=0d4aaa30fc76312a3ebe">
        <link rel="icon" type="image/png" href="https://bitbra.in/favicon.png?h=44b76b5cf66397d57be1" sizes="32x32">

        <link rel="stylesheet" href="https://bitbra.in/css/style.css?h=02ededa3d6ae0ee7a513"/>
        <link rel="stylesheet" href="https://bitbra.in/line-awesome/css/line-awesome.min.css?h=ce61a18cf084f1500379"/>
        <script src="https://bitbra.in/js/main.js?h=6ebbb40a03fcd672fbed" defer></script>
        
    <title>How I animated scape | bitbrain</title>
    
    
    
    
    
    
        
    
    
        
        
            
        
    
    <meta property="og:type" content="article">
    <meta property="og:title" content="How I animated scape">
    
    <meta property="og:url" content="https:&#x2F;&#x2F;bitbra.in&#x2F;blog&#x2F;how-i-animated-scape&#x2F;">
    <meta property="og:site_name" content="bitbrain">
    <meta property="og:image" content="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How I animated scape">
    
    <meta name="twitter:image" content="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg">
    
    
    
        
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
                    
                    
                        
                        
                        
                            
                        
                    
                
            
        
        
        
    
    
    
        
        
        
        
            
            
            <meta name="fediverse:creator" content="@bitbraindev@mastodon.gamedev.place">
        
    

    </head>

    <body class="bg-white dark:bg-slate-900 transition ease-in-out">
        <section>
            
    
<div class="sticky top-0 bg-slate-100 dark:bg-slate-800">
    <div class="container mx-auto flex place-content-between
        py-16 lg:py-8 font-sans text-6xl lg:text-2xl text-slate-900
        dark:text-white">
        <div class="flex">
            
            
            
            
            <a class="m-0 p-0 text-slate-900 hover:text-slate-700
                            dark:text-white dark:hover:text-white" href="&#x2F;blog&#x2F;">
                /blog
            </a>
            
            
            
            
            
            
        </div>
        <div class="flex gap-4 header-links">
            <div id="back-to-top" class="hidden cursor-pointer">
                <i class="las la-level-up-alt"></i>
            </div>
            <a href="/"><i class="las la-home"></i></a>
            
            <a href="https://bitbra.in/atom.xml"><i class="las la-rss"></i></a>
            
            <div id="darkmode-toggle" class="cursor-pointer">
                <div class="hidden dark:inline">
                    <i class="las la-sun"></i>
                </div>
                <div class="inline dark:hidden">
                    <i class="las la-moon"></i>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="container mb-16">
        <div class="mt-4 font-serif text-slate-600 dark:text-slate-500 text-4xl lg:text-base">
            2019-05-11
        </div>
        <h1 class="w-full mt-4 mb-8 font-serif text-8xl lg:text-4xl text-slate-900 dark:text-slate-300">
            How I animated scape
        </h1>
        <div class="w-100 border-t mb-8 border-slate-300 dark:border-slate-700"></div>
        <div class="prose-boring">
            <p>In a <a href="/2019/05/10/one-finger-to-rule-them-all.html">previous blog post</a> I talked about game design decisions I made in my most recent game project called <a href="https://github.com/bitbrain/scape">scape</a>. You might notice that I have a particular animation style. At the current stage of development scape looks like this:</p>
<p><img src="/images/scape-animation-style.webp" alt="scape-animation-style" /></p>
<p>The game did not always look like that! I started creating initial mockups back in 2018. Back then all I knew was the following:</p>
<ul>
<li>since I binged <a href="https://en.wikipedia.org/wiki/Mr._Robot">Mr. Robot</a> during that time I really wanted to craft a "hacker" themed game</li>
<li>I love the neon aspect of synthwave and cyberpunk - the game should have vibrant colours as well</li>
<li>you should be able to play the game like <a href="https://apkpure.com/yoo-ninja-free/com.RunnerGames.game.YooNinja_Lite">Yoo Ninja</a> which is one of my favourite smartphone games ever created</li>
<li>I thought it'd be pretty cool to play as a little virus, infecting a computer system</li>
</ul>
<p>After I thought about the initial design elements of the game I used Pyxel to create a first mockup. Keep in mind, this mockup is from 2018:</p>
<p><img src="/images/scape-initial-mockup-from-2018.webp" alt="scape-initial-mockup" /></p>
<p>Right after creating this mockup <a href="https://github.com/bitbrain/scape/commit/3fb3170379aec277f9dc39dc556f1b9e7cb61a51">I pushed my first commit</a> to Github. Within a couple of hours a prototype has been created with all game mechanics implemented: <strong>jumping</strong> and <strong>flipping gravity</strong>:</p>
<video autoplay controls loop preload="auto">
<source src="https://video.twimg.com/tweet_video/Dk5G0cIWsAAK_Mu.mp4" type="video/mp4" />
</video>
<p>Next I am going to explain how I approached the player animation.</p>
<h1 id="animating-the-player">Animating the player</h1>
<p>The player is animated by using a 8x3 spritesheet with a sprite size of 8x8 pixel. All in all, spritesheets in scape are really tiny and I use a virtual camera ingame to zoom into the szene in order to magnify the pixel effect.</p>
<p>This is how the spritesheet looks like:</p>
<p><img src="/images/scape-animation-character-spritesheet.webp" alt="player-animation" /></p>
<p>The first row is used for basic movement animation. The second row is animating wall climbing. When the player is climbing a wall and moves just vertically, that animation is activated. Also, when a player is cornered or blocked, the third row is used as an animation.
The animation itself is looping in a so called <a href="https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/graphics/g2d/Animation.PlayMode.html#LOOP_PINGPONG">LOOP_PINGPONG</a> fashion. All animation ingame is done by <a href="https://libgdx.badlogicgames.com">libgdx</a>. When the player is jumping though, I am pausing the animation and resetting it to the initial index to achieve some kind of idle effect.</p>
<h1 id="level-animation">Level animation</h1>
<p>More complex to animate are the level animations themselves. Each frame is handdrawn by me within <a href="https://pyxeledit.com">Pyxel</a>. This is really time-consuming but it is also fun to see a sprite coming "to live".</p>
<p>I have created several spritesheets, each of them has a particular style or purpose:</p>
<ul>
<li><strong>vertical spritesheet</strong> contains sprites which are vertically aligned. Animation frames are created from left to right of the spritesheet</li>
<li><strong>horizontal spritesheet</strong> contains sprites which are horizontally aligned. Animation frames are created from top to bottom of the spritesheet</li>
<li><strong>block spritesheet</strong> contains square sprites. Animation frames are created from left to right of the spritesheet.</li>
</ul>
<p>After a while I realised that it probably was a mistake creating horizontal spritesheets at all. The simple reason is extendability. In order to build my levels I use the famous <a href="https://www.mapeditor.org">Tiled Editor</a>. In there you can import spritesheets and define animations. Unfortunately, Tiled is counting sprite indices from left to right, row by row. When I want to add more animations to my spritesheet, I have to increase the image size of it, which has an impact on all indices since Tiled requires to recompute those. That can lead to visual glitches and it is not clear what Tiled is doing behind the scenes. Be careful animating sprites vertically!</p>
<blockquote>
<p>Within spritesheets, always animate frames from left to right and grow your spritesheet vertically in order to avoid glitches in editors such as Tiled!</p>
</blockquote>
<p>Within a spritesheet itself an animation is structured as follows:</p>
<p><img src="/images/scape-animation-vertical-tileset.webp" alt="spritesheet-animation" /></p>
<p>In order to achieve an affect of energy lines cycling through the wires, I carefully picked a pattern with decreasing colour vibrancy which travels through the tile itself. This is how the tile looks animated in Tiled:</p>
<p><img src="/images/scape-animation-tile-animation.webp" alt="spritesheet-animation-animated" /></p>
<p>Then I simply have to create hundreds of these handdrawn animations, sounds simple, doesn't it? Well, I realised after a while that it breaks the immersion when the animations are not in sync. This made things far more complicated since it means that I not only have to animate each tile but also I have to consider sibling tiles to fluidly integrate with eachother.</p>
<h1 id="animating-bytes">Animating bytes</h1>
<p>When playing scape, the player has to collect so called <strong>bytes</strong>. Animating those bytes was much simpler than taking care of individual level tiles:</p>
<p><img src="/images/scape-animation-byte-spritesheet.webp" alt="byte-spritesheet" /></p>
<p>In-game I then used <a href="https://github.com/AurelienRibon/universal-tween-engine">Universal Tween Engine</a> to animate slight scaling. To improve visual fidelity I also added particle effects which I had created by using <a href="https://github.com/libgdx/libgdx/wiki/2D-Particle-Editor">the 2D particle editor of libgdx</a>:</p>
<p><img src="/images/particle2d-editor.webp" alt="particle-editor" /></p>
<p>Within my game code I then rendered these particle effects over the animated and scaled sprites. Later on I also implemented lighting to my game. At that point, I purposfully attached pink lights onto the byte objects so they are visible from the far!</p>
<p>I really enjoy doing manual animation since you have more control over each individual pixel on the screen! The game will release later this year. In the meantime you can already download a pre-release version. Feel free to give me feedback either here or on <a href="https://twitter.com/bitbrain_">twitter</a>! If you are especially interested in further development on this project, make sure to <a href="https://twitter.com/i/moments/1127137651549667328">checkout this Moment page</a> I created.</p>
<iframe src="https://itch.io/embed/357509?bg_color=15171A&amp;fg_color=05fecf&amp;link_color=f20179&amp;border_color=15171A" width="100%" height="167" frameborder="0"></iframe>

        </div>
        
        
        
        <div class="bg-slate-100 dark:bg-slate-800 mt-12">
            <div class="flex items-stretch lg:items-stretch">
                
                
                
                
                    
                
                
                    
                    
                        
                    
                    <div class="author-box__media">
                        <img src="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg" alt="" class="author-box__avatar"/>
                    </div>
                
                <div class="text-4xl lg:text-base text-slate-700 dark:text-slate-400 flex-1 author-box__content">
                    
                        <h2 class="font-serif text-6xl lg:text-2xl text-slate-900 dark:text-slate-300 m-0 author-box__title">bitbrain</h2>
                    
                    
                        <div class="font-sans text-5xl lg:text-xl text-slate-600 dark:text-slate-500 mb-4 author-box__subtitle">Lead Software Engineer. Godot Engine evangelist.</div>
                    
                    
                    
                        
                    
                    
                        <div class="mt-2 text-8xl lg:text-4xl flex gap-3 homepage-social author-box__social">
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;github.com&#x2F;bitbrain" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-github"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;youtube.com&#x2F;@bitbraindev" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-youtube"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;bsky.app&#x2F;profile&#x2F;bitbra.in" target="_blank" rel="me noopener noreferrer">
                                        <i class="las la-at"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@bitbraindev" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-mastodon"></i>
                                    </a>
                                </div>
                                
                            
                        </div>
                    
            </div>
        </div>
        
    </div>

        </section>
    </body>
</html>
