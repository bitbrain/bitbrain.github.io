<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="utf-8">
        
        <script>
            const isDarkMode = localStorage.getItem('is_darkmode_set') === 'true';
            if (isDarkMode) {
                document.documentElement.classList.add('dark');
            }
        </script>
        
        <meta name="color-scheme" content="light dark">

        
        
        
            
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                
            
                
                    
                    
                    
                    
                    
                    
                    
                    
                        
                        
                            
                            
                            
                                
                            
                        
                    
                
            
            
            
        
        
        
            <link rel="me" href="https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@bitbraindev">
        

        
        

        
        <link rel="alternate"
              type="application/atom+xml"
              title="bitbrain feed"
              href="https://bitbra.in/atom.xml">
        

        
        <link rel="icon" type="image/webp" href="https://bitbra.in/favicon.webp?h=0d4aaa30fc76312a3ebe">
        <link rel="icon" type="image/png" href="https://bitbra.in/favicon.png?h=44b76b5cf66397d57be1" sizes="32x32">

        <link rel="stylesheet" href="https://bitbra.in/css/style.css?h=02ededa3d6ae0ee7a513"/>
        <link rel="stylesheet" href="https://bitbra.in/line-awesome/css/line-awesome.min.css?h=ce61a18cf084f1500379"/>
        <script src="https://bitbra.in/js/main.js?h=6ebbb40a03fcd672fbed" defer></script>
        
    <title>How to automatically publish your game to itch.io | bitbrain</title>
    
    
    
    
    
    
        
    
    
        
        
            
        
    
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to automatically publish your game to itch.io">
    <meta property="og:description" content="This tutorial explains how you can very easily deploy your game to itch.io">
    <meta property="og:url" content="https:&#x2F;&#x2F;bitbra.in&#x2F;blog&#x2F;automatically-publish-games-to-itchio&#x2F;">
    <meta property="og:site_name" content="bitbrain">
    <meta property="og:image" content="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How to automatically publish your game to itch.io">
    <meta name="twitter:description" content="This tutorial explains how you can very easily deploy your game to itch.io">
    <meta name="twitter:image" content="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg">
    
    
    
        
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
            
        
            
                
                
                
                
                
                
                
                
                    
                    
                        
                        
                        
                            
                        
                    
                
            
        
        
        
    
    
    
        
        
        
        
            
            
            <meta name="fediverse:creator" content="@bitbraindev@mastodon.gamedev.place">
        
    

    </head>

    <body class="bg-white dark:bg-slate-900 transition ease-in-out">
        <section>
            
    
<div class="sticky top-0 bg-slate-100 dark:bg-slate-800">
    <div class="container mx-auto flex place-content-between
        py-16 lg:py-8 font-sans text-6xl lg:text-2xl text-slate-900
        dark:text-white">
        <div class="flex">
            
            
            
            
            <a class="m-0 p-0 text-slate-900 hover:text-slate-700
                            dark:text-white dark:hover:text-white" href="&#x2F;blog&#x2F;">
                /blog
            </a>
            
            
            
            
            
            
        </div>
        <div class="flex gap-4 header-links">
            <div id="back-to-top" class="hidden cursor-pointer">
                <i class="las la-level-up-alt"></i>
            </div>
            <a href="/"><i class="las la-home"></i></a>
            
            <a href="https://bitbra.in/atom.xml"><i class="las la-rss"></i></a>
            
            <div id="darkmode-toggle" class="cursor-pointer">
                <div class="hidden dark:inline">
                    <i class="las la-sun"></i>
                </div>
                <div class="inline dark:hidden">
                    <i class="las la-moon"></i>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="container mb-16">
        <div class="mt-4 font-serif text-slate-600 dark:text-slate-500 text-4xl lg:text-base">
            2019-02-18
        </div>
        <h1 class="w-full mt-4 mb-8 font-serif text-8xl lg:text-4xl text-slate-900 dark:text-slate-300">
            How to automatically publish your game to itch.io
        </h1>
        <div class="w-100 border-t mb-8 border-slate-300 dark:border-slate-700"></div>
        <div class="prose-boring">
            <h1 id="motivation">Motivation</h1>
<blockquote>
<p>why should I even upload my games automatically?</p>
</blockquote>
<p>This is a good question. Simple answer is, that during a gamejam you can fully concentrate on building your game. Especially, when the deadline is coming closer, you simply have to commit and push your changes, in order to trigger an automatic deployment of your game to itch.io:</p>
<ol>
<li>make a code or asset change change locally</li>
<li>commit your change via Git and push it to Github</li>
<li>TravisCI automatically picks up your change and builds your game</li>
<li>TravisCI automatically pushes the new build to itch.io</li>
</ol>
<p>This tutorial shows you how to do that!</p>
<h1 id="prequisites">Prequisites</h1>
<p>For this tutorial, we use the following technologies:</p>
<ul>
<li><a href="https://github.com/">Github</a> to version control our game code</li>
<li><a href="https://travis-ci.org">TravisCI</a> as a build agent to build our game</li>
<li><a href="https://itch.io">itch.io</a> to host our game</li>
<li><a href="https://itch.io/docs/butler/pushing.html">Butler</a> to upload our game builds to itch.io</li>
</ul>
<h1 id="setup-github-repository">Setup Github repository</h1>
<p>If not already done, create a Github repository to host our source code:</p>
<p><img src="/images/create-new-github-repo.webp" alt="create-new-github-repo" /></p>
<h1 id="setup-itch-io">Setup itch.io</h1>
<p>Before we can start uploading our first game, we need to create an itch.io game project:</p>
<p><img src="/images/create-new-game-project.webp" alt="create-new-game-project" /></p>
<p>After your project is created, head over to your account settings to generate a new API key. This key is required so other services such as TravisCI are able to communicate with itch.io.</p>
<p><img src="/images/create-new-api-key.webp" alt="create-new-api-key" /></p>
<h1 id="prepare-travisci-deployment">Prepare TravisCI deployment</h1>
<p>Once the repository exists and itch.io is prepared, we need to prepare TravisCI. This consists of the following steps:</p>
<ol>
<li>create deployment script</li>
<li>commit and push travis.yml</li>
<li>prepare TravisCI project</li>
<li>setup <code>BUTLER_API_KEY</code></li>
</ol>
<h1 id="create-deployment-script">Create deployment script</h1>
<p>This script will take your artifacts and push it to itch.io. Create a new file, called <code>deploy.sh</code>:</p>
<pre data-lang="bash" style="background-color:#090a0c;color:#dae4ed;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#353e4a;">#!/bin/bash
</span><span>
</span><span style="color:#ffffff;">set </span><span style="color:#b7c3ce;">-</span><span style="color:#ffffff;">e
</span><span style="color:#ffffff;">set </span><span style="color:#b7c3ce;">-</span><span style="color:#ffffff;">o</span><span> pipefail
</span><span>
</span><span style="color:#5981f5;">if </span><span style="color:#ffffff;">[[ </span><span style="color:#b7c3ce;">-</span><span style="color:#ffffff;">z </span><span style="color:#b7c3ce;">&quot;${</span><span style="color:#ffffff;">BUTLER_API_KEY</span><span style="color:#b7c3ce;">}&quot; </span><span style="color:#ffffff;">]]</span><span style="color:#b7c3ce;">; </span><span style="color:#5981f5;">then
</span><span>  </span><span style="color:#ffffff;">echo </span><span style="color:#b7c3ce;">&quot;</span><span style="color:#4ebc6b;">Unable to deploy! No BUTLER_API_KEY environment variable specified!</span><span style="color:#b7c3ce;">&quot;
</span><span>  </span><span style="color:#ffffff;">exit</span><span> 1
</span><span style="color:#5981f5;">fi
</span><span>
</span><span style="color:#ffffff;">prepare_butler</span><span style="color:#b7c3ce;">() {
</span><span>    </span><span style="color:#ffffff;">echo </span><span style="color:#b7c3ce;">&quot;</span><span style="color:#4ebc6b;">Preparing butler...</span><span style="color:#b7c3ce;">&quot;
</span><span>    </span><span style="color:#ffffff;">download_if_not_exist</span><span> http://dl.itch.ovh/butler/linux-amd64/head/butler butler
</span><span>    </span><span style="color:#ffffff;">chmod</span><span> +x butler
</span><span style="color:#b7c3ce;">}
</span><span>
</span><span style="color:#ffffff;">prepare_and_push</span><span style="color:#b7c3ce;">() {
</span><span>    </span><span style="color:#ffffff;">echo </span><span style="color:#b7c3ce;">&quot;</span><span style="color:#4ebc6b;">Push </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">3</span><span style="color:#4ebc6b;"> build to itch.io...</span><span style="color:#b7c3ce;">&quot;
</span><span>    </span><span style="color:#ffffff;">./butler</span><span> push </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">2 </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">1</span><span>:</span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">3
</span><span style="color:#b7c3ce;">}
</span><span>
</span><span style="color:#ffffff;">download_if_not_exist</span><span style="color:#b7c3ce;">() {
</span><span>    </span><span style="color:#5981f5;">if </span><span style="color:#ffffff;">[ </span><span style="color:#b7c3ce;">! -</span><span style="color:#ffffff;">f </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">2 ]</span><span style="color:#b7c3ce;">; </span><span style="color:#5981f5;">then
</span><span>        </span><span style="color:#ffffff;">curl</span><span style="color:#b7c3ce;"> -</span><span style="color:#ffffff;">L</span><span style="color:#b7c3ce;"> -</span><span style="color:#ffffff;">O </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">1 </span><span style="color:#b7c3ce;">&gt; $</span><span style="color:#ffffff;">2
</span><span>    </span><span style="color:#5981f5;">fi
</span><span style="color:#b7c3ce;">}
</span><span>
</span><span>
</span><span style="color:#ffffff;">project</span><span style="color:#b7c3ce;">=&quot;</span><span style="color:#4ebc6b;">bitbrain/mygame</span><span style="color:#b7c3ce;">&quot;
</span><span style="color:#ffffff;">artifact</span><span style="color:#b7c3ce;">=&quot;</span><span style="color:#4ebc6b;">mygame.jar</span><span style="color:#b7c3ce;">&quot;
</span><span style="color:#ffffff;">platform</span><span style="color:#b7c3ce;">=&quot;</span><span style="color:#4ebc6b;">windows-linux-mac</span><span style="color:#b7c3ce;">&quot;
</span><span>
</span><span style="color:#ffffff;">prepare_butler
</span><span>
</span><span style="color:#ffffff;">prepare_and_push </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">project </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">artifact </span><span style="color:#b7c3ce;">$</span><span style="color:#ffffff;">platform
</span><span>
</span><span style="color:#ffffff;">echo </span><span style="color:#b7c3ce;">&quot;</span><span style="color:#4ebc6b;">Done.</span><span style="color:#b7c3ce;">&quot;
</span><span style="color:#ffffff;">exit</span><span> 0
</span></code></pre>
<p>This script first checks, if the environment variable <code>BUTLER_API_KEY</code> is defined. This variable can be setup within Travis and is required for itch.io to authenticate your game upload.
Afterwards we define a bunch of helper functions. Then we download the latest version of <strong>butler</strong> and upload the game with it. Please ensure to configure the correct <code>project</code>.</p>
<h1 id="setup-travis-yml">Setup .travis.yml</h1>
<p>This file is required by TravisCI to understand how to build your game. For example, you can setup a Java environment (for Java games) or Objective-C environment (for Unity games). TravisCI ensures that this environment is set up and it will build your game:</p>
<pre data-lang="yml" style="background-color:#090a0c;color:#dae4ed;" class="language-yml "><code class="language-yml" data-lang="yml"><span style="color:#4ebc6b;">language</span><span style="color:#b7c3ce;">: </span><span style="color:#4ebc6b;">android
</span><span style="color:#4ebc6b;">jdk</span><span style="color:#b7c3ce;">:
</span><span>  </span><span style="color:#b7c3ce;">- </span><span style="color:#4ebc6b;">openjdk8
</span><span>
</span><span style="color:#4ebc6b;">android</span><span style="color:#b7c3ce;">:
</span><span>  </span><span style="color:#4ebc6b;">components</span><span style="color:#b7c3ce;">:
</span><span>    </span><span style="color:#353e4a;"># The BuildTools version used by your project
</span><span>    </span><span style="color:#b7c3ce;">- </span><span style="color:#4ebc6b;">build-tools-26.0.2
</span><span>
</span><span>    </span><span style="color:#353e4a;"># The SDK version used to compile your project
</span><span>    </span><span style="color:#b7c3ce;">- </span><span style="color:#4ebc6b;">android-26
</span><span>
</span><span style="color:#4ebc6b;">script</span><span style="color:#b7c3ce;">:
</span><span>  </span><span style="color:#4ebc6b;">echo &quot;this is my game&quot; &gt; mygame.jar
</span><span>
</span><span style="color:#4ebc6b;">after_script</span><span style="color:#b7c3ce;">:
</span><span>  </span><span style="color:#4ebc6b;">chmod +x deploy.sh &amp;&amp; ./deploy.sh
</span><span>
</span></code></pre>
<p>Feel free to create a different .yml for Java, C++ or even Android! Read more about that <a href="https://docs.travis-ci.com/user/reference/overview/">in the official docs</a>.</p>
<h1 id="prepare-travisci-project">Prepare TravisCI project</h1>
<p>Now we have to configure our TravisCI project. Head over to https://travis-ci.org, authenticate with your Github account and you should be able to import your Github project from there. Once imported, head over to the settings to configure environment variables:</p>
<p><img src="/images/travis-ci-head-to-settings.webp" alt="travis-ci-head-to-settings" />
<img src="/images/travis-ci-add-butler-api-key.webp" alt="travis-ci-add-butler-api-key" /></p>
<h1 id="run-the-build">Run the build</h1>
<p>Congratulations! You successfully set up the pipeline. Let's run the build to see how your game automatically publishes:</p>
<pre style="background-color:#090a0c;color:#dae4ed;"><code><span>Preparing butler...
</span><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span><span>100 19.6M  100 19.6M    0     0  31.6M      0 --:--:-- --:--:-- --:--:-- 31.6M
</span><span>Push windows-linux-mac build to itch.io...
</span><span>• For channel `windows-linux-mac`: pushing first build
</span><span>• Pushing 16 B (1 files, 0 dirs, 0 symlinks)
</span><span>✓ Added 16 B fresh data
</span><span>✓ 86 B patch (no savings)
</span><span>• Build is now processing, should be up in a bit.
</span><span>Use the `butler status bitbrain/mygame:windows-linux-mac` for more information.
</span><span>Done.
</span></code></pre>
<p>Your latest game version is now available on itch.io:</p>
<p><img src="/images/itch-io-my-game-upload.webp" alt="itch-io-my-game-upload" /></p>

        </div>
        
        
        
        <div class="bg-slate-100 dark:bg-slate-800 mt-12">
            <div class="flex items-stretch lg:items-stretch">
                
                
                
                
                    
                
                
                    
                    
                        
                    
                    <div class="author-box__media">
                        <img src="https:&#x2F;&#x2F;bitbra.in&#x2F;images&#x2F;hello.jpg" alt="" class="author-box__avatar"/>
                    </div>
                
                <div class="text-4xl lg:text-base text-slate-700 dark:text-slate-400 flex-1 author-box__content">
                    
                        <h2 class="font-serif text-6xl lg:text-2xl text-slate-900 dark:text-slate-300 m-0 author-box__title">bitbrain</h2>
                    
                    
                        <div class="font-sans text-5xl lg:text-xl text-slate-600 dark:text-slate-500 mb-4 author-box__subtitle">Lead Software Engineer. Godot Engine evangelist.</div>
                    
                    
                    
                        
                    
                    
                        <div class="mt-2 text-8xl lg:text-4xl flex gap-3 homepage-social author-box__social">
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;github.com&#x2F;bitbrain" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-github"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;youtube.com&#x2F;@bitbraindev" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-youtube"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;bsky.app&#x2F;profile&#x2F;bitbra.in" target="_blank" rel="me noopener noreferrer">
                                        <i class="las la-at"></i>
                                    </a>
                                </div>
                                
                            
                                
                                <div class="text-slate-500 hover:text-slate-700 transition">
                                    <a href="https:&#x2F;&#x2F;mastodon.gamedev.place&#x2F;@bitbraindev" target="_blank" rel="me noopener noreferrer">
                                        <i class="lab la-mastodon"></i>
                                    </a>
                                </div>
                                
                            
                        </div>
                    
            </div>
        </div>
        
    </div>

        </section>
    </body>
</html>
